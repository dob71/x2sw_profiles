# .pronsolerc file for X2
!print "Loaded " + self.rc_filename
# Multiple extruder init
!self._extruder = 0
# Support both SF and Slic3r skeiners
!self.sf_slicecommand="python skeinforge/skeinforge_application/skeinforge_utilities/skeinforge_craft.py $s"
!self.sf_sliceoptscommand="python skeinforge/skeinforge_application/skeinforge.py"
!self.slic3rcmd = os.path.join(os.path.abspath(os.path.dirname(sys.argv[0])), 'slic3r','slic3r')
!if os.path.exists(os.path.join(os.path.abspath(os.path.dirname(sys.argv[0])), 'slic3r','slic3r.pl')): self.slic3rcmd = 'perl ' + os.path.join(os.path.abspath(os.path.dirname(sys.argv[0])), 'slic3r','slic3r.pl')
!self.slic3r_slicecommand=self.slic3rcmd + " $s --output $o"
!self.slic3r_sliceoptscommand=self.slic3rcmd
!self.settings.slicecommand = self.sf_slicecommand
!self.settings.sliceoptscommand = self.sf_sliceoptscommand
!self.slicemode = 'sf'

set xy_feedrate 3000
set z_feedrate 300
set e_feedrate 100
set last_temperature 177.0
set last_bed_temperature 78.0
set temperature_abs 215
set bedtemp_abs 115
set temperature_pla 177
set bedtemp_pla 78
set build_dimensions 200x200x125

macro fanoff
   M107
button 4 "fan off" /c "lightgrey" fanoff

macro fan70
   M106
   !time.sleep(1.0)
   M106 S70
button 5 "fan 50%" /c "lightgrey" fan70

macro fan120
   M106
   !time.sleep(1.0)
   M106 S120
button 6 "fan 100%" /c "lightgrey" fan120

macro resetSD
   M22
   !time.sleep(0.2)
   M21
   !time.sleep(0.2)
   M20
button 1 "ResetSD" /c "lightgrey" resetSD

macro changeSkeiner
   !try:
   !  if self.slicemode == 'sf':
   !    self.onecmd('button 2 "Use Skeinforge" /c lightgrey changeSkeiner')
   !    self.slicemode = 'slic3r'
   !    self.settings.slicecommand = self.slic3r_slicecommand
   !    self.settings.sliceoptscommand = self.slic3r_sliceoptscommand
   !    self.status.SetStatusText(_("Switched to Slic3r"))
   !  else:
   !    self.onecmd('button 2 "Use Slic3r" /c lightgrey changeSkeiner')
   !    self.slicemode = 'sf'
   !    self.settings.slicecommand = self.sf_slicecommand
   !    self.settings.sliceoptscommand = self.sf_sliceoptscommand
   !    self.status.SetStatusText(_("Switched to Skeinforge"))
   !except:
   !  self.status.SetStatusText(_("Failed to change skeiner!"))
   !  pass
button 2 "Use Slic3r" /c "lightgrey" changeSkeiner

set last_file_path /home/den/Downloads
